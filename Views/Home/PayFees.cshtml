@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>

    function PaymentProcess(accessKey,orderId) {

        console.log("In payment");
        console.log("id");
        //var amount = document.getElementById("payment_price").value;
        var amount =100;
     
        var orderId = orderId;
        console.log(orderId);
        var options = {
            "key": accessKey,
            "amount": "101",
            "currency": "INR",
            "name": "Acme Corp",
            "description": "Recharge",
            "order_id": orderId,
            "image": "https://example.com/your_logo",
            "handler": function (response) {
                console.log(response);
                var div = document.createElement("div");
                div.setAttribute("id", "successMessage");
                var h2 = document.createElement("h2");
                var text = document.createTextNode("Payment successful!");
                h2.appendChild(text);
                div.appendChild(h2);
                document.body.appendChild(div);
                // Get the button element
                var button = document.querySelector("button[hidden]");

                // Unhide the button by removing the hidden attribute
                button.removeAttribute("hidden");
            },
            "prefill": {
                "name": "Name",
                "email": "test@example.com",
                "contact": "+919000090000",
            },
            "callback_url": "https://localhost:7119/",
            //"redirect": true,
            "notes": {  
                "address": "Hello World"
            },
            "theme": {
                "color": "#3399cc"
            }
        }

        var rzp = new Razorpay(options);
        rzp.open();

    }

</script>


<p> Pay Fees here!</p>

<button class="btn btn-primary" onclick="PaymentProcess('@ViewBag.AccessKey','@ViewBag.OrderId')">Pay Now</button>
<input value = ""id="paymentSuccess" type="hidden">
<form method="post">
<button class="btn btn-primary"type="submit" hidden>done</button>
</form>
  